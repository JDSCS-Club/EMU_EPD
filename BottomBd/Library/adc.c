/*
 * adc.c
 *
 *  Created on: Jan 16, 2020
 *      Author: RobertKim
 */
//--------------------------------------------------------------------------------------------//
//
//--------------------------------------------------------------------------------------------//
#include <adc.h>
#include "main.h"
//--------------------------------------------------------------------------------------------//
//
//--------------------------------------------------------------------------------------------//
/**
  * @brief  get ADC1 value
  */
uint32_t Get_Adc1_Value(void)
{
	uint32_t adcResult = 0;
	HAL_ADC_Start(&hadc1);
	HAL_ADC_PollForConversion(&hadc1, 100);
	adcResult = HAL_ADC_GetValue(&hadc1);
	HAL_ADC_Stop(&hadc1);
	return adcResult;
}
//--------------------------------------------------------------------------------------------//
//
//--------------------------------------------------------------------------------------------//
/**
  * @brief  get adc1 voltage(mV)
  */
uint16_t getAdc1Vol(void)
{
	return (Get_Adc1_Value() * ADC_MAX_VOL) / ADC_MAX_DATA;
}
//--------------------------------------------------------------------------------------------//
//
//--------------------------------------------------------------------------------------------//
/**
  * @brief  get ADC2 value
  */
uint32_t Get_Adc2_Value(void)
{
	uint32_t adcResult = 0;
	HAL_ADC_Start(&hadc2);
	HAL_ADC_PollForConversion(&hadc2, 100);
	adcResult = HAL_ADC_GetValue(&hadc2);
	HAL_ADC_Stop(&hadc2);
	return adcResult;
}
//--------------------------------------------------------------------------------------------//
//
//--------------------------------------------------------------------------------------------//
/**
  * @brief  get adc2 voltage(mV)
  */
uint16_t getAdc2Vol(void)
{
	return (Get_Adc2_Value() * ADC_MAX_VOL) / ADC_MAX_DATA;
}
//--------------------------------------------------------------------------------------------//
//
//--------------------------------------------------------------------------------------------//
